<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prova</title>
    <style>
        canvas {
            background: black;
            display: block;
            margin: auto;
        }
    </style>
</head>
<body>
    <canvas id="jogoCanvas" width="480" height="320"></canvas>
    <script>
        class ObjetoDoJogo {
    constructor(x, y, largura, altura, cor) {
        this.x = x;
        this.y = y;
        this.largura = largura;
        this.altura = altura;
        this.cor = cor;
    }

    desenhar(ctx) {
        ctx.fillStyle = this.cor;
        ctx.fillRect(this.x, this.y, this.largura, this.altura);
    }
}

class Raquete extends ObjetoDoJogo {
    constructor(x, y, largura, altura, cor) {
        super(x, y, largura, altura, cor);
        this.velocidade = 5;
    }

    mover(direita, esquerda, larguraCanvas) {
        if (direita && this.x < larguraCanvas - this.largura) {
            this.x += this.velocidade;
        }
        if (esquerda && this.x > 0) {
            this.x -= this.velocidade;
        }
    }
}

class Bola {
    constructor(x, y, raio, dx, dy, cor) {
        this.x = x;
        this.y = y;
        this.raio = raio;
        this.dx = dx;
        this.dy = dy;
        this.cor = cor;
    }

    desenhar(ctx) {
        ctx.fillStyle = this.cor;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.raio, 0, Math.PI * 2);
        ctx.fill();
    }

    mover(larguraCanvas, alturaCanvas, raquete) {
        this.x += this.dx;
        this.y += this.dy;
        
        if (this.x < 0 || this.x > larguraCanvas) this.dx *= -1;
        if (this.y < 0) this.dy *= -1;
        
        if (
            this.y > alturaCanvas - raquete.altura - this.raio &&
            this.x > raquete.x &&
            this.x < raquete.x + raquete.largura
        ) {
            this.dy *= -1;
        }

        if (this.y > alturaCanvas) {
            this.x = larguraCanvas / 2;
            this.y = alturaCanvas / 2;
            this.dx = 3;
            this.dy = -3;
        }
    }
}

const canvas = document.getElementById("jogoCanvas");
const ctx = canvas.getContext("2d");

const raquete = new Raquete((canvas.width - 80) / 2, canvas.height - 10, 80, 10, "blue");
const bola = new Bola(canvas.width / 2, canvas.height / 2, 8, 3, -3, "red");

let direita = false, esquerda = false;

document.addEventListener("keydown", (e) => {
    if (e.key === "ArrowRight") direita = true;
    if (e.key === "ArrowLeft") esquerda = true;
});

document.addEventListener("keyup", () => {
    direita = false;
    esquerda = false;
});

function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    raquete.mover(direita, esquerda, canvas.width);
    bola.mover(canvas.width, canvas.height, raquete);
    
    raquete.desenhar(ctx);
    bola.desenhar(ctx);
    
    requestAnimationFrame(update);
}

update();
    </script>
</body>
</html>
